{% extends "base.html" %}

{% block title %}시스템 설정 - SCUTTA{% endblock %}

{% block container_style %}margin-top: 0;{% endblock %}

{% block header_left %}
<a href="{{ url_for('main.index') }}" class="text-lg font-bold truncate">
    시스템 설정
</a>
{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded-lg shadow-sm">
    <h2 class="text-2xl font-bold mb-6">글로벌 텍스트 설정</h2>

    <form action="{{ url_for('admin.update_global_texts') }}" method="POST">
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">현재 학기 (Semester)</label>
                <input type="text" name="semester" value="{{ config['GLOBAL_TEXTS']['semester'] }}"
                    class="w-full px-4 py-2 border rounded-lg" placeholder="예: 2026-1">
            </div>

            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">메인 타이틀 (Title)</label>
                <input type="text" name="main_title" value="{{ config['GLOBAL_TEXTS']['main_title'] }}"
                    class="w-full px-4 py-2 border rounded-lg">
            </div>
        </div>

        <button type="submit"
            class="mt-6 bg-main button w-full border-2 border-gray-800 text-gray-800 font-bold hover:bg-gray-100">설정
            저장</button>
    </form>
</div>

<div class="bg-white p-6 rounded-lg shadow-sm mt-8">
    <h2 class="text-2xl font-bold mb-6">데이터 초기화 (위험)</h2>
    <div class="space-y-4">
        <div class="p-4 border border-red-200 bg-red-50 rounded-lg">
            <h3 class="font-bold text-red-700 mb-2">모든 경기 기록 삭제</h3>
            <p class="text-sm text-red-600 mb-4">모든 경기 기록이 영구적으로 삭제됩니다. 되돌릴 수 없습니다.</p>
            <form action="{{ url_for('admin.reset_matches') }}" method="POST"
                onsubmit="return confirm('정말 모든 경기 기록을 삭제하시겠습니까?');">
                <button type="submit"
                    class="bg-red-600 text-white font-bold py-2 px-4 rounded hover:bg-red-700 w-full md:w-auto">경기 기록
                    초기화</button>
            </form>
        </div>
        <div class="p-4 border border-red-200 bg-red-50 rounded-lg">
            <h3 class="font-bold text-red-700 mb-2">모든 베팅 기록 삭제</h3>
            <p class="text-sm text-red-600 mb-4">모든 베팅 및 포인트 내역이 영구적으로 삭제됩니다.</p>
            <form action="{{ url_for('admin.reset_betting') }}" method="POST"
                onsubmit="return confirm('정말 모든 베팅 기록을 삭제하시겠습니까?');">
                <button type="submit"
                    class="bg-red-600 text-white font-bold py-2 px-4 rounded hover:bg-red-700 w-full md:w-auto">베팅 기록
                    초기화</button>
            </form>
        </div>
    </div>
</div>

<div class="bg-white p-6 rounded-lg shadow-sm mt-8">
    <h2 class="text-2xl font-bold mb-6">관리자 계정 관리</h2>
    <a href="{{ url_for('admin.admin_reset_password_page') }}"
        class="block text-center bg-gray-800 text-white font-bold py-3 px-4 rounded hover:bg-gray-900">
        사용자 비밀번호 강제 변경
    </a>
</div>
{% endblock %}